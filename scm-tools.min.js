!function(a){if(!a.fn.style){var b=!!CSSStyleDeclaration.prototype.getPropertyValue;b||(CSSStyleDeclaration.prototype.getPropertyValue=function(a){return this.getAttribute(a)},CSSStyleDeclaration.prototype.setProperty=function(b,c,d){this.setAttribute(b,c);var d="undefined"!=typeof d?d:"";if(""!=d){var e=new RegExp(a.escapeBS(b)+"\\s*:\\s*"+a.escapeBS(c)+"(\\s*;)?","gmi");this.cssText=this.cssText.replace(e,b+": "+c+" !"+d+";")}},CSSStyleDeclaration.prototype.removeProperty=function(a){return this.removeAttribute(a)},CSSStyleDeclaration.prototype.getPropertyPriority=function(b){var c=new RegExp(a.escapeBS(b)+"\\s*:\\s*[^\\s]*\\s*!important(\\s*;)?","gmi");return c.test(this.cssText)?"important":""}),a.fn.style=function(a,b,c){var d=this.get(0);if("undefined"==typeof d)return this;var e=this.get(0).style;return"undefined"!=typeof a?"undefined"!=typeof b?(c="undefined"!=typeof c?c:"",e.setProperty(a,b,c),this):e.getPropertyValue(a):e}}a.fn.actualHeight||(a.fn.actualHeight=function(){var b=(this.css("top"),this.css("overflow"));this.css("height");this.css({overflow:"scroll"});var d=this.prop("scrollHeight");return this.css({overflow:b}),d}),a.fn.getBoxShadow||(a.fn.getBoxShadow=function(){var a=this.css("box-shadow");if(!a)return{color:0,x:0,y:0,blur:0,exp:0};var b=this.css("box-shadow").match(/(-?\d)|(rgba\(.+\))/g);return b?{color:b[0],x:b[1],y:b[2],blur:b[3],exp:b[4]}:{color:0,x:0,y:0,blur:0,exp:0}}),a.fn.shadowWidth||(a.fn.shadowWidth=function(){var a=this.css("box-shadow");if(!a)return 0;var b=this.css("box-shadow").match(/(-?\d)|(rgba\(.+\))/g);return b?Number(b[1])+Number(b[3])+Number(b[4]):0}),a.fn.shadowHeight||(a.fn.shadowHeight=function(){var a=this.css("box-shadow");if(!a)return 0;var b=this.css("box-shadow").match(/(-?\d)|(rgba\(.+\))/g);return b?Number(b[2])+Number(b[3])+Number(b[4]):0}),a.fn.realWidth||(a.fn.realWidth=function(a){var b=this.shadowWidth(),c=this.outerWidth(),d=this.outerWidth(a),e=d-c;return(a?d:c)+(b>e?b:0)}),a.fn.realHeight||(a.fn.realHeight=function(a){var b=this.shadowHeight(),c=this.outerHeight(),d=this.outerHeight(a),e=d-c;return(a?d:c)+(b>e?b:0)}),a.fn.getHighest||(a.fn.getHighest=function(b){var d,c=0;return this.length?(this.each(function(){$this=a(this),$this.outerHeight()>c&&(d=this,c=$this.outerHeight())}),b?d:c):0}),a.fn.equalChildrenSize||(a.fn.equalChildrenSize=function(){return this.each(function(){var c=a(this),d=c.data("equal")?c.data("equal"):"",e=c.children(d),f=c.data("equal-max"),g=c.data("equal-min")?c.data("equal-min"):"height";if(!e.length)return this;var h=f?f:g,i=f?9999999:0,j=!i,k=a.parsePx(c.data("max-width")),l=a.parsePx(c.data("max-height")),m=a.parsePx(c.data("min-width")),n=a.parsePx(c.data("min-height"));switch(a(e).each(function(b){var c=a(this),d=0;switch(h){case"height":d=a.parsePx(c.css("height"),10);break;case"width":d=a.parsePx(c.css("width"),10)}i=j?d>i?d:i:d<i?d:i}),h){case"height":a.browser.msie&&6==a.browser.version&&c.css("height",i),j?!n||n<i?c.css("min-height",i):c.css("min-height",n):!l||l>i?(c.css("height",i),c.css("max-height",i)):(c.css("height",l),c.css("max-height",l));break;case"width":a.browser.msie&&6==a.browser.version&&c.css("width",i),j?!m||m<i?c.css("min-width",i):c.css("min-width",m):!k||k>i?(c.css("width",i),c.css("max-width",i)):(c.css("width",k),c.css("max-width",k))}})}),a.fn.goBack||(a.fn.goBack=function(a){window.history.back()}),a.fn.findNext||(a.fn.findNext=function(a){var b=this.next(a);if(b.length)return b;var c=this.parent();return c.length?c.findNext(a):{}}),a.functionExists=function(b){return void 0!==typeof a.fn[b]&&a.isFunction(a.fn[b])},a.funExists=function(b){return void 0!==typeof a[b]&&a.isFunction(a[b])},a.consoleDebug=function(a,b){a&&console.log(b)},a.EmToPx=function(b){var c=parseFloat(a("body").css("font-size"));return c*b},a.PxToEm=function(b){var c=parseFloat(a("body").css("font-size"));return b/c},a.parsePx=function(b){return b=b?b.toString():"0",b.indexOf("em")>=0?a.EmToPx(b):parseFloat(b)},a.fn.getCursorPosition=function(){var a=this.get(0);if(a){if("selectionStart"in a)return{start:a.selectionStart,end:a.selectionEnd};if(document.selection){a.focus();var b=document.selection.createRange(),c=document.selection.createRange().text.length;return b.moveStart("character",-a.value.length),b.text.length-c}}},a.getByValue=function(a,b){for(var c=0;c<a.length;c++)if(b===a[c])return c;return-1},a.objSize=function(a){var c,b=0;for(c in a)a.hasOwnProperty(c)&&b++;return b},a.sortKeys=function(a){var b=[];for(var c in a)b.push(c);return b.sort(function(b,c){return a[b]-a[c]})},a.rsortKeys=function(a){var b=[];for(var c in a)b.push(c);return b.sort(function(b,c){return a[c]-a[b]})},a.stringDecimal=function(b){return"string"==typeof b&&a.isNumeric(parseFloat(b))?b.replace(",","."):b},a.isNumeric=function(b){return!isNaN(a.stringDecimal(b))},a.Numeric=function(b){return!!a.isNumeric(b)&&+a.stringDecimal(b)},a.decodeEmail=function(a){return a.replace(/,/g,".").replace("()","@")},a.startsWith=function(a,b){for(var c=0;c<b.length;c++)if(0===a.indexOf(b[c]))return!0;return!1},a.log=function(a,b){if(!b&&window.console){var c=(new Date).getTime()-performance.timing.navigationStart;console.log(a+" > "+c+"ms")}},a.escapeBS=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},a.removeSlash=function(a){return a.replace(/\//g,"")},a.trailingSlash=function(a){return"/"==a.substr(-1)?a.substr(0,a.length-1):a},a.replaceState=function(a,b,c){"function"==typeof window.history.replaceState&&history.replaceState(b,c,a)},a.pushState=function(a,b,c){"function"==typeof window.history.pushState&&history.pushState(b,c,a)},a.getUrlData=function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))},a.getCleanUrl=function(a,b){a||(a=window.location.href);var c=a.indexOf("#");if(c!=-1&&(a=a.substring(0,c)),!b){var d=a.indexOf("?");d!=-1&&(a=a.substring(0,d))}return a},a.getUrlHash=function(a,b){a||(a=window.location.href),"undefined"==typeof b&&(b="");var c=a.split("#");return c.length>1?"#"+c[1]:b},a.getUrlAnchor=function(a,b){a||(a=window.location.href),"undefined"==typeof b&&(b="");var c=a.split("#");return c.length>1?c[1]:b},a.getUrlSearch=function(a,b){return a||(a=window.location.href),"undefined"==typeof b&&(b=""),a=a.split("?"),a.length>1?"?"+a[1]:b},a.urlParameters=function(a,b){return a||(a=window.location.href),"undefined"==typeof b&&(b=""),a=a.split("?"),a.length>1?a[1]:b},a.getUrlParameters=function(b,c){return b||(b=window.location.href),"undefined"==typeof c&&(c={}),b=a.urlParameters(b,""),b?JSON.parse('{"'+b.replace(/&/g,'","').replace(/=/g,'":"')+'"}',function(a,b){return""===a?b:decodeURIComponent(b)}):{}},a.getUrlParameter=function(b,c,d){if(c||(c=window.location.href),"undefined"==typeof d&&(d=""),!b)return d;var e=a.getUrlParameters(a.getCleanUrl(c,1));return"undefined"!=typeof e[b]?e[b]:d},a.getScripts=function(b,c){"string"==typeof b&&(b=[b]);var d=a.map(b,function(b){return a.getScript((c||"")+b)});return d.push(a.Deferred(function(b){a(b.resolve)})),a.when.apply(a,d)},a.barLoading=function(b){return b=a.extend({classes:"absolute middle full-width"},b?b:{}),'<div class="scm-loading loading-bar '+b.classes+'"></div>'},a.iconLoading=function(b){return b=a.extend({classes:"absolute middle double",icon:"spinner"},b?b:{}),'<div class="scm-loading loading-icon '+b.classes+'"><i class="fa fa-pulse fa-'+b.icon+'"></i></div>'},a.circleLoading=function(b){return b=a.extend({classes:"absolute middle double",icon:"circle"},b?b:{}),'<div class="scm-loading loading-circle '+b.classes+'"><i class="fa fa-spin fa-'+b.icon+' absolute middle"></i></div>'}}(jQuery);var formatDate=function(a,b,c,d){b=b||"",c=c||"",d=d||"";var e=day=hours=mins=secs=year="";if(a)e=a.mon,day=a.mday,hours=a.hours,mins=a.minutes,secs=a.seconds,year=a.year;else{var f=new Date;e=f.getMonth()+1,day=f.getDate(),hours=f.getHours(),mins=f.getMinutes(),secs=f.getSeconds(),year=f.getFullYear()}var g=year+b+(e<10?"0":"")+e+b+(day<10?"0":"")+day+c+(hours<10?"0":"")+hours+d+(mins<10?"0":"")+mins+d+(secs<10?"0":"")+secs;return g},toHHMMSS=function(a){var b=Math.floor(a/3600),c=Math.floor((a-3600*b)/60),d=a-3600*b-60*c;return b<10&&(b="0"+b),c<10&&(c="0"+c),d<10&&(d="0"+d),b+":"+c+":"+d},toHHMM=function(a){var b=Math.floor(a/3600),c=Math.floor((a-3600*b)/60);return b<10&&(b="0"+b),c<10&&(c="0"+c),b+":"+c},objSize=function(a){var c,b=0;for(c in a)a.hasOwnProperty(c)&&b++;return b},arrMove=function(a,b,c){for(;b<0;)b+=a.length;for(;c<0;)c+=a.length;if(c>=a.length)for(var d=c-a.length;d--+1;)a.push(void 0);return a.splice(c,0,a.splice(b,1)[0]),a},arrSwap=function(a,b,c){var d=a[b];return a[b]=a[c],a[c]=d,a},csvSwapColumn=function(a,b,c){for(var d=0;d<a.length;d++)a=arrSwap(a[d],b,c);return a},csvMoveColumn=function(a,b,c){for(var d=0;d<a.length;d++)a=arrMove(a[d],b,c);return a},csvInsertColumn=function(a,b,c){c=void 0==c?a.length:c;for(var d=0;d<a.length;d++)a[d].splice(c,0,b),d||(b="");return a},sortKeys=function(a){var b=[];for(var c in a)b.push(c);return b.sort(function(b,c){return a[b]-a[c]})},rsortKeys=function(a){var b=[];for(var c in a)b.push(c);return b.sort(function(b,c){return a[c]-a[b]})},DEBUG=0,ADVANCED="altKey",INITPAGE=function(){},INITCHILD=function(){},READYCHILD=function(){},READYPAGE=function(){},$MAGIC;!function($){var CONTENTS={};$MAGIC=new $.ScrollMagic.Controller,$.fn.eventsInit=function(a,b,c,d,e){return $MAGIC.update(),void 0!==a&&null!==a&&this.eventLinks(a),void 0!==b&&null!==b&&this.eventTools(b),void 0!==c&&null!==c&&this.eventCss(c),void 0!==d&&null!==d&&this.eventImages(d),void 0!==e&&null!==e&&this.eventResponsive(e),this},$.fn.eventResponsive=function(b){var c=$(window).width();return a="",r="",state="all",old=this.attr("class"),tofull=this.attr("data-tofull"),tocolumn=this.attr("data-tocolumn"),sizes={wide:1401,landscape:1121,tablet:1121,notebook:1031,portrait:801,smart:701,smartmid:601,smartmin:501},c>700?(a+="desktop r1400 ",r+="smart smartmid smartmin smartmicro smartold ",c<sizes.wide?(a+="r1120 ",r+="wide "):(r+="r1120 ",a+="wide "),c<sizes.landscape?a+="tablet r1030 ":r+="tablet r1030 ",c<sizes.landscape&&c>sizes.portrait-1?a+="landscape ":r+="landscape ",c<sizes.notebook?a+="notebook r940 ":r+="notebook r940 ",c<941?a+="r800 ":r+="r800 ",c<sizes.portrait?a+="portrait r700 ":r+="portrait r700 "):(a+="tablet portrait smart tofull tocolumn ",r+="wide desktop landscape notebook r1400 r1120 r1030 r940 r800 r700 ",c<331?a+="smartold ":r+="smartold ",c<401?a+="smartmicro ":r+="smartmicro ",c<501?a+="smartmin ":r+="smartmin ",c<601?a+="smartmid ":r+="smartmid "),"init"!=b&&(this.removeClass(r),this.addClass(a),c<sizes[tofull]?this.addClass("tofull"):this.removeClass("tofull"),c<sizes[tocolumn]?this.addClass("tocolumn"):this.removeClass("tocolumn"),"force"!=b&&old==this.attr("class")||(this.hasClass("smartmin")?state="smartmin":this.hasClass("smart")?state="smart":this.hasClass("portrait")?state="portrait":this.hasClass("notebook")?state="notebook":this.hasClass("landscape")?state="landscape":this.hasClass("wide")?state="wide":this.hasClass("desktop")&&(state="desktop"),this.trigger("responsive",[state]))),this},$.fn.eventImages=function(a){$.consoleDebug(DEBUG,"-- images events");var b=this,c=a?null:{background:"*"};return b.imagesLoaded(c).always(function(a){b.trigger("imgsLoaded",a),$.consoleDebug(DEBUG,"- imgsLoaded")}).done(function(a){b.trigger("imgsDone",a),$.consoleDebug(DEBUG,"- imgsDone")}).fail(function(){b.trigger("imgsFail"),$.consoleDebug(DEBUG,"- imgsFail")}).progress(function(a,c){c.isLoaded?"loaded":"broken";c.isLoaded?(b.trigger("imgLoaded",a,c),$.consoleDebug(DEBUG,"-- imgLoaded: "+c.img.src)):(b.trigger("imgFailed",a,c),$.consoleDebug(DEBUG,"-- imgFailed: "+c.img.src))}),this},$.fn.eventCss=function(){return $.consoleDebug(DEBUG,"-- css events"),this.find("[data-bg-color]").setCss("bg-color","background-color"),this.find("[data-zindex]").setCss("zindex","z-index"),this.find("[data-left]").setCss("left"),this.find("[data-top]").setCss("top"),this.find("[data-right]").setCss("right"),this.find("[data-bottom]").setCss("bottom"),this},$.fn.eventTools=function(){return $.consoleDebug(DEBUG,"-- tools events"),this.find("[data-content-fade]").fadeContent(),this.find("[data-tooltip]").setTooltip(),this.find("[data-cursor]").setCursor(),this.find("[data-popup]").setFancybox(),this.find("[data-slider]").initSlider(),this.find("[data-current-view]").currentView(),this.find("[data-current-link]").currentLink(),this.find('iframe[src*="youtube.com"]').youtubeFix(),this},$.fn.eventLinks=function(){$.consoleDebug(DEBUG,"-- links events");var a=this.find("a, .navigation").filter(":not(.nolinkit):not(.iubenda-embed)").filter(function(a){return 0===$(this).parents(".ssba, .acf-form, .scm-map").length}),b=this.find("a, [data-href]").filter(":not(.nolinkit):not(.iubenda-embed)").filter(function(a){return 0===$(this).parents(".ssba, .acf-form, .scm-map").length});return b.filter(":not([data-link-type])").linkIt(),a.off("mousedown").on("mousedown",function(a){a.stopPropagation()}),b.off("click").on("click",function(a){var b=$(this);b.trigger("clicked");var c=b.parents(".no-toggled"),d=0;c.length&&(d=c.parents(".toggle-content").length),$toggled=$(".toggled"),$("body").hasClass("touch")&&d&&!c.parents(".toggle").length?($toggled.toggledOff(),a.preventDefault()):(a.preventDefault(),a.stopPropagation(),$toggled.length?($toggled.toggledOff(),setTimeout(function(){b.trigger("link")},400)):b.trigger("link"))}),b.off("link anchor").on("link anchor",function(a){var b=$(this),d=($("body"),b.attr("href")?b.attr("href"):b.data("href")),e=b.attr("target")?b.attr("target"):b.data("target"),f=b.attr("anchor")?b.attr("anchor"):b.data("anchor"),g=b.attr("data-link-type");switch($.consoleDebug(DEBUG,"-----------"),$.consoleDebug(DEBUG,"[link] > "+g),g){case"load":$.consoleDebug(DEBUG,"- loading content"),b.loadContent(d);break;case"page":$.consoleDebug(DEBUG,"- scrolling"),b.smoothAnchor(f);break;default:$.consoleDebug(DEBUG,"- changing page"),$.bodyOut(d,e,g)}}),this},$.fn.linkIt=function(a){return this.each(function(){var a=$(this),b=new RegExp(location.host),c=a.data("href"),d=void 0!==c?c.replace("page:",b):a.attr("href").replace("page:",b);if(d){var e=$.removeSlash(d),f=e.indexOf("#"),g=e.substr(0,f),h=document.URL,i=$.removeSlash(h),j=i.indexOf("#"),k=j>=0?i.substr(0,j):i,l=i===e,m=a.parents(".sub-menu").siblings().find("a").attr("href"),n=0===f&&m&&i!=$.removeSlash(m)&&"#top"!=m,o="back"==e||"http:back"==e||"https:back"==e,p=a.data("load-content")?a.data("load-content"):a.parent().data("load-content"),q=$.startsWith(e,["mailto:","callto:","fax:","tel:","skype:"])?e.substr(0,e.indexOf("to:")>0?e.indexOf("to:"):e.indexOf(":")):null,r=o?"#":q?d:l?"#top":n?m+d:f>=0&&g===k?e.substr(f):d,s=r.indexOf("#"),t=r.indexOf("/uploads/"),u=b.test(r),v=c?a.data("target"):a.attr("target")?a.attr("target"):a.hasClass("external")?"_blank":"",w="site";(0===f||u||"_self"!==v)&&((o||q||0===s)&&(w="page",v="_self",u=!0),u&&t>=0&&(v="_blank"),p?w="load":u&&"_blank"!==v?(v="_self","page"!=w&&(w="site")):(v="_blank",w="external"),0===s&&a.attr("data-anchor",r),c?a.data("href",r).data("target",v):a.attr("href",r).attr("target",v),a.attr("data-link-type",o?"back":q?q:w))}})},$.fn.setUrlData=function(a,b,c,d){return $.consoleDebug(DEBUG,"- setUrlData"),this.each(function(){var e=$(this),f={hash:"#top",params:""};b&&void 0!==b&&null!==b&&(e.attr("data-anchor",b),f.hash=b),c&&void 0!==c&&null!==c&&(e.attr("data-params",c),f.params=c),d?d&&$.pushState(a,f,null):$.replaceState(a,f,null)})},$.fn.setLocationData=function(a,b){return $.consoleDebug(DEBUG,"from location"),this.each(function(){var c=$(this);c.setUrlData(a.pathname,a.hash,a.search,b)})},$.fn.setLinkData=function(a,b){return $.consoleDebug(DEBUG,"from link"),this.each(function(){var c=$(this);c.setUrlData($.getCleanUrl(a),$.getUrlHash(a),$.getUrlSearch(a),b)})},$.fn.getAnchor=function(){return this.data("anchor")?this.data("anchor"):this.getLink()},$.fn.getLink=function(){return this.attr("href")?this.attr("href"):this.data("href")?this.data("href"):""},$.getLoading=function(a,b){switch(a){case"icon":return $($.iconLoading(b));case"circle":return $($.circleLoading(b));default:return $($.barLoading(b))}},$.fn.ajaxPost=function(a,b,c,d,e){if("function"!=typeof c)return this;var f=$.getLoading(d,e).appendTo(this).hide().fadeIn("slow");return $.ajax({url:a,type:"post",data:b,error:function(a,b){var d="Spiacenti, Ã¨ stato riscontrato un errore.";d=0===a.status?"Not connect.\n Verify Network.":404==a.status?"Requested page not found. [404]":500==a.status?"Internal Server Error [500].":"parsererror"===b?"Requested JSON parse failed.":"timeout"===b?"Time out error.":"abort"===b?"Ajax request aborted.":"Uncaught Error.\n"+a.responseText,"function"==typeof c&&c('<span class="scm-error error">'+d+"</span>",b)},success:function(a){f.fadeOut("slow",function(){f.remove(),"function"==typeof c&&c(a)})}}),this},$.fn.loadContent=function(a,b,c,d){var e=$("body");return e.disableIt(),e.trigger("loadContentBefore"),this.each(function(){var f=a?a:$(this).getLink(),g=b?$(this):$(this).closest("[data-load-content]");g.length||(g=$(this));var h=b?b:g.data("load-content")?g.data("load-content"):g.attr("id"),i=$("#"+h);if(!i.length)return e.enableIt(),this;var j=i.outerHeight(),k=$(window).height(),l=d?d:g.data("load-type")?g.data("load-type"):"replace",m=i.wrap('<div class="load-'+l+' relative inline-block"></div>').parent(),n=parseFloat(c?c:g.data("load-current")?g.data("load-current"):1),o=$.getUrlParameter(h,f,0),p={action:"load_content",name:h,archive:ARCHIVES[h],query_vars:ajaxcall.query_vars};o&&(p[h]=o);var q=function(){e.trigger("loadContent");var a=i.outerHeight();m.animate({height:a},j==a?.1:"slow",function(){m.css("height","auto").css("overflow","visible"),i.unwrap().eventsInit(1,1,1,null,1),e.enableIt(),e.trigger("loadContentAfter")})},r=function(a,b){i.hide().html(a).fadeIn("fast",q)},s=function(a,b){$children=$(a).hide(),$first=$children.first(),i.append($children),$children.fadeIn("fast"),$children.not(".scm-pagination").last().addClass("last"),$first.smoothScroll({complete:!0}),q()};switch(CONTENTS[h]||(CONTENTS[h]={replace:{},popup:{}}),m.css("overflow","hidden").css("height",j),l){case"replace":CONTENTS[h].replace[n]=i.html(),i.smoothScroll({offset:1,units:"em",head:!0,complete:!0}).fadeOut("fast",function(){CONTENTS[h].replace[o]?r(CONTENTS[h].replace[o]):(i.html(""),i.show(),j>k&&m.animate({height:k-$.getStickyHeight()},"fast"),m.ajaxPost(ajaxcall.url,p,r,"bar",{classes:"absolute middle full-width double"}))});break;case"more":i.children().last().fadeOut("fast",function(){this.remove(),$last=i.children().last(),$last.removeClass("last"),p[h+"-more"]={counter:$last.data("counter"),current:$last.data("current"),total:$last.data("total"),odd:$last.data("odd")},m.ajaxPost(ajaxcall.url,p,s,"bar",{classes:"relative full-width double"})})}})},$.goToLink=function(a,b,c){return $.consoleDebug(DEBUG,"-----------"),$.consoleDebug(DEBUG,"goToLink:"),a?($.consoleDebug(DEBUG,a),$.consoleDebug(DEBUG,"target: "+b),"mail"==c?void(window.location=$.decodeEmail(a)):"_blank"!=b?($.consoleDebug(DEBUG,"loading same page"),void(window.location=a)):($.consoleDebug(DEBUG,"opening new page"),void window.open(a,"See You!"))):($.consoleDebug(DEBUG,"no link provided"),void $.bodyIn())},$.bodyIn=function(){$.consoleDebug(DEBUG,"-----------");var a=$("body"),d=($("html"),$(".navigation"),parseFloat(a.data("fade-opacity")?a.data("fade-opacity"):0)/10),e=parseFloat(a.data("fade-in")?a.data("fade-in"):0),f=parseFloat(a.data("smooth-new")?a.data("smooth-new"):0),g=!!a.data("smooth-page")&&a.data("smooth-page"),h=a.data("anchor")?a.data("anchor"):"",i=$(h);if(!a.hasClass("bodyin")){a.addClass("bodyin"),a.removeClass("bodyout"),a.css("opacity",d);var j=function(){g&&i.length?($.consoleDebug(DEBUG,"scroll to anchor"),i.smoothScroll({delay:f})):a.enableIt()};!g&&i.length&&($.consoleDebug(DEBUG,"jump to anchor"),i.smoothScroll({delay:f,time:0})),e?($.consoleDebug(DEBUG,"bodyIn: with animation"),a.animate({opacity:1},1e3*e,j)):($.consoleDebug(DEBUG,"bodyIn: without animation"),a.css("opacity",1),j())}},$.bodyOut=function(a,b,c){$.consoleDebug(DEBUG,"-----------"),$.consoleDebug(DEBUG,"bodyOut:");var d=$("body"),e=$(".navigation"),f=d.data("fade-opacity")?parseFloat(d.data("fade-opacity")/10):0,g=d.data("fade-out")?parseFloat(d.data("fade-out")):0;d.data("fade-wait")?d.data("fade-wait"):"no";if(d.removeClass("bodyin"),"back"==c)return window.history.back(),!1;if("site"==c&&"_blank"!=b&&g>0){if(d.hasClass("bodyout"))return;d.addClass("bodyout"),$.consoleDebug(DEBUG,"with animation"),d.disableIt(),e.animate({opacity:f},600*g),d.animate({opacity:f},1e3*g,function(){$.goToLink(a,b)})}else $.consoleDebug(DEBUG,"without animation"),$.goToLink(a,b,c)},$.fn.enableIt=function(a){return $.consoleDebug(DEBUG,"["+this[0].localName+"] ENABLED"),this.each(function(){var a=$(this);a.removeClass("disabled"),a.addClass("enabled"),a.trigger("enabled")})},$.fn.disableIt=function(a){return $.consoleDebug(DEBUG,"["+this[0].localName+"] DISABLED"),this.each(function(){var a=$(this);a.addClass("disabled"),a.removeClass("enabled"),a.trigger("disabled")})},$.scrollTo=function(a,b,c,d,e){var f=$("body");f.disableIt();var g=function(){"function"==typeof e?e():e||f.enableIt()},h=function(){b?($("html").animate({scrollTop:parseFloat(a)},parseFloat(b),c),f.animate({scrollTop:parseFloat(a)},parseFloat(b),c,g)):($("html").scrollTop(parseFloat(a)),f.scrollTop(parseFloat(a)),g())};d?setTimeout(h,1e3*d):h()},$.getSmoothData=function(){var a=$("body"),b={time:parseFloat(a.data("smooth-duration")?a.data("smooth-duration"):0),delay:parseFloat(a.data("smooth-delay")?a.data("smooth-delay"):0),offset:parseFloat(a.data("smooth-offset")?a.data("smooth-offset"):0),head:a.data("smooth-head")?a.data("smooth-head"):0,units:a.data("smooth-offset-units")?a.data("smooth-offset-units"):"px",ease:a.data("smooth-ease")?a.data("smooth-ease"):"swing"};return b},$.getSmoothDestination=function(a,b,c,d){if(a.is("body"))return 0;var e=$(window).height(),f=$("body").height(),g=a.offset().top,h=parseFloat(b),d=d?$.getStickyHeight():0,i=c?c:"px",j=0;return"em"==i&&(h=$.EmToPx(h)),j=g-h-d,f-j<e&&(j=f-e),j},$.fn.smoothAnchor=function(a,b){$.consoleDebug(DEBUG,"- smoothAnchor");var c=$("body");return this.each(function(){var d=$(this),e=$.getUrlHash(a?a:d.data("anchor")?d.data("anchor"):d.data("href")?d.data("href"):d.attr("href")?d.attr("href"):d.attr("id")?"#"+d.attr("id"):""),f=e&&"#"!=e?$(e):d;c.hasClass("loaded")||c.attr("data-premature-action","true"),f.length?f.smoothScroll(b):c.smoothScroll(b)})},$.fn.smoothScroll=function(a){$.consoleDebug(DEBUG,"- smoothScroll");var b=$("body"),c=$.extend({time:1,delay:.1,offset:0,head:0,units:"px",ease:"swing",complete:!1},$.getSmoothData(),a);return this.each(function(){var a=$(this),d=c.time,e=c.offset,f=c.units,g=c.head,h=c.ease,i=c.delay,j=c.complete,k=$(document).scrollTop(),l=0,m=0,n=0;return l=$.getSmoothDestination(a,e,f,g),m=Math.abs(l-k),n=Math.max(d*Math.min(m,6e3),500),m?$.scrollTo(l,d?n:0,h,i,j):b.enableIt(),this})},$.fn.currentLink=function(a,b){return this.each(function(){var a=$(this),d=($("body"),a.data("current-link")),e=parseFloat(a.data("current-link-offset")?a.data("current-link-offset"):0),f=a.data("current-link-offset-units")?a.data("current-link-offset-units"):"px",g=parseFloat(a.data("current-link-threshold")?a.data("current-link-threshold"):0),h=parseFloat(a.data("current-link-interval")?a.data("current-link-interval"):250),i=a.data("current-link-filter")?a.data("current-link-filter"):"",j=a.find("[data-anchor]").not('[data-anchor="#top"], [data-anchor="#"]'),k=$(".page > .section.last").attr("id"),l=k&&k.length?j.filter('[data-anchor="#'+k+'"]'):j,m="",n=[],o=!0,p=null;if("em"==f&&(e=$.EmToPx(e)),i&&(j=j.filter(i)),!j.length)return this;for(var q=0;q<j.length;q++){var r=$(j[q]);m+=r.attr("data-anchor"),q<j.length-1&&(m+=", ")}n=$(m);var s=function(){$(window).off("scroll.currentLink").on("scroll.currentLink",function(){o=!0}),u(),p=setInterval(function(){o&&(o=!1,u())},h)},u=function(){var a=$(window),b=a.height(),c=$("body").outerHeight(),f=a.scrollTop(),h=f+b>=c,m=$.getStickyHeight()+e;if(h&&k&&k.length)j.parent().removeClass(d),l.parent().addClass(d);else for(var o=0;o<n.length;o++){var p=$(n[o]),q={top:Math.round(p.offset().top)-m,bottom:Math.round(p.offset().top+p.outerHeight())-m},r=j.filter('[data-anchor="#'+p.attr("id")+'"]').parent(),s=f>=q.top-g&&f<q.bottom-g;s?r.addClass(d):r.removeClass(d)}};o=!0,s()})},$.fn.currentView=function(a){return this.each(function(){var a=$(this);return a.attr("data-magic")?this:(a.attr("data-magic",1),new $.ScrollMagic.Scene({triggerElement:a,duration:function(){return Math.round(a.outerHeight())}}).setClassToggle(a,"current-view-act").addTo($MAGIC),void new $.ScrollMagic.Scene({triggerElement:a,duration:function(){return $(window).height()+Math.round(a.outerHeight())},triggerHook:1}).setClassToggle(a,"current-view").on("enter",function(b){"enter"==b.type&&"FORWARD"==b.scrollDirection?a.addClass("current-fade"):"exit"==b.type&&"REVERSE"==b.scrollDirection&&a.removeClass("current-fade")}).addTo($MAGIC))})},$.fn.fadeContent=function(a,b){return this.each(function(){var a=$(this),b=a.find(a.attr("data-content-fade")),c=parseFloat(.01*(a.attr("data-content-fade-offset")?a.attr("data-content-fade-offset"):1));if(a.attr("data-magic"))return this;if(a.attr("data-magic",1),!b.length)return this;for(var d=0;d<b.length;d++)$content=$(b[d]).addClass("has-fade"),new $.ScrollMagic.Scene({triggerElement:$content,triggerHook:c}).setClassToggle($content,"current-fade").addTo($MAGIC)})},$.fn.toggleSwipe=function(){return this.each(function(){var a=$(this);"true"==a.attr("data-toggle")&&(a.swipe({swipeDown:function(a,b,c,d,e){var f=$(this);(f.hasClass("toggle")?1:f.parents("toggle").length)&&(a.stopPropagation(),f.toggledOn())},swipeUp:function(a,b,c,d,e){var f=$(this);(f.hasClass("toggle")?1:f.parents("toggle").length)&&(a.stopPropagation(),f.toggledOff())},threshold:10,excludedElements:""}),$.consoleDebug(DEBUG,"-- swipe event"))})},$.fn.toggledIt=function(a){return a.stopPropagation(),this.each(function(){var a=$(this);return a.hasClass("toggle")||(a=$(this).parents(".toggle")),a.hasClass("toggled")?a.toggledOff():a.toggledOn()})},$.fn.toggledOn=function(){return this.each(function(){var a=$(this);a.data("done",!1),a.find(".toggle-button").children('[data-toggle-button="off"]').hide(),a.find(".toggle-button").children('[data-toggle-button="on"]').show(),a.hasClass("toggled")||(a.data("done",!0),a.addClass("toggled"),a.removeClass("no-toggled"),a.trigger("toggledOn"))})},$.fn.toggledOff=function(){return this.each(function(){var a=$(this);a.hasClass("toggle")||(a=$(this).parents(".toggle")),a.data("done",!1),a.find(".toggle-button").children('[data-toggle-button="off"]').show(),a.find(".toggle-button").children('[data-toggle-button="on"]').hide(),a.hasClass("toggled")?a.data("done",!0).trigger("toggledOff").removeClass("toggled").addClass("no-toggled"):a.hasClass("no-toggled")||a.addClass("no-toggled").data("done",!0).trigger("toggledOff").removeClass("toggled").addClass("no-toggled")})},$.fn.switchByData=function(a,b,c,d){return b||(b=c?b:"switch"),this.each(function(){var e=$(this),f=e.data(b),g=e.data(b+"-with");switchWith=g?g:"[data-"+b+'=""]',e.hasClass("hidden")||f&&""!=f&&(f.indexOf(a)>=0?(c?(e.addClass(c),d&&e.find(d).addClass("hidden")):(e.show(),e.siblings(switchWith).hide()),e.trigger("switchOn")):(c?(e.removeClass(c),d&&e.find(d).removeClass("hidden")):(e.hide(),e.siblings(switchWith).show()),e.trigger("switchOff")))})},$.fn.showDetails=function(a,b){$("body").addClass("disabled"),this.children().hide();var c=$("#"+a);c.length?c.show():c=$.isFunction(b)?b().appendTo(this):"",this.attr("data-content","#"+a),this.addClass("opened"),this.show()},$.fn.hideDetails=function(){this.hide(),this.attr("data-content",""),this.removeClass("opened"),$("body").removeClass("disabled")},$.newDetails=function(a,b,c){a=a?" "+a:"";var d=$('<div class="details'+a+'" data-content></div>');return c||d.hide(),b&&d.on("click",function(a){$(a.target).hasClass("details")&&d.hideDetails()}),d},$.getStickyHeight=function(a){return $("#site-navigation-sticky").getHighest()+$("#site-header.sticky").getHighest()-(a?a:1)},$.fn.affixIt=function(a,b,c){return this.each(function(){var d=$(this),e=b?b:d.attr("data-affix")?d.attr("data-affix"):"top",f=c?c:d.attr("data-affix-selector")?d.attr("data-affix-selector"):null,g=a?a:d.attr("data-affix-offset")?d.attr("data-affix-offset"):0;return d.attr("data-magic")?this:(d.attr("data-magic",1),void new $.ScrollMagic.Scene({triggerElement:f,triggerHook:"bottom"==e?1:"middle"==e||"center"==e?.5:"top"==e?0:parseFloat(e),offset:g}).setClassToggle(d,"affix").addTo($MAGIC))})},$.fn.stickyMenu=function(){return this.each(function(){var a=$(this),b=a.data("sticky-type"),c=a.data("sticky-attach"),d=parseFloat(a.data("sticky-offset")),e=a.data("sticky-anim"),f=a.data("sticky"),g=$("#"+f).addClass(b),h="plus"!=b?g:"nav-bottom"==c?a.findNext():"nav-top"==c?g:null;if(g.length){if("plus"==b){var i=a.getBoxShadow();switch(e){case"opacity":a.css("opacity",0);break;case"left":a.css("left",-(a.outerWidth()+parseFloat(i.x)+parseFloat(i.blur)+parseFloat(i.exp)));break;case"right":a.css("right",-(a.outerWidth()+parseFloat(i.x)+parseFloat(i.blur)+parseFloat(i.exp)));break;default:a.css("top",-(a.outerHeight()+parseFloat(i.y)+parseFloat(i.blur)+parseFloat(i.exp)))}}a.affixIt(d,0,h)}})},$.fn.googleMap=function(){var a=$("body"),b=0,c=this.length;return this.each(function(){var d=$(this),e=d.children(".marker"),f=parseFloat(d.data("zoom")),g=parseInt(d.data("infowidth")?d.data("infowidth"):500),h=d.data("icon-color")?d.data("icon-color"):"#000000",i=[],j=[],k=[];d.attr("id","map-"+b),i=[{featureType:"all",elementType:"all",stylers:[{saturation:-30},{visibility:"simplified"}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"landscape.natural",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"administrative.province",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"administrative.country",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative.neighborhood",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels",stylers:[{visibility:"on"},{weight:1},{saturation:-100},{lightness:30}]},{featureType:"administrative.land_parcel",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry",stylers:[{weight:1},{saturation:-100},{lightness:50}]},{featureType:"water",elementType:"all",stylers:[{lightness:50}]}],j={center:new google.maps.LatLng(0,0),zoom:f,disableDefaultUI:!0,draggableCursor:"crosshair",draggingCursor:"crosshair",styles:i,panControl:!1,zoomControl:!0,mapTypeControl:!1,scaleControl:!1,streetViewControl:!0,overviewMapControl:!0,rotateControl:!0,scrollwheel:!1,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.LEFT_CENTER}},k=new google.maps.Map(this,j),infowindow=new google.maps.InfoWindow({content:"",maxWidth:g}),k.markers=[],$(e).markerMap(k,infowindow,f,b);var m=(new MarkerClusterer(k,k.markers,{imagePath:"",gridSize:50,styles:[{url:"",textColor:h,textSize:24,width:35,height:35},{url:"",textColor:h,textSize:32,width:50,height:50},{url:"",textColor:h,textSize:40,width:70,height:70}]}),google.maps.event.addListener(k,"tilesloaded",function(){a.trigger("mapLoaded"),b++,b>=c&&(a.trigger("mapsLoaded",[c]),google.maps.event.removeListener(m))}))})},$.fn.markerMap=function(a,b,c,d,e){return this.each(function(){var f=$(this),g=null,h=f.data("lat"),i=f.data("lng"),j=f.data("address");
if(j){var k=new google.maps.Geocoder,l={address:j};e&&(l.region=e),k.geocode(l,function(h,i){if($.consoleDebug(DEBUG,"-----------"),$.consoleDebug(DEBUG,"markerMap"),$.consoleDebug(DEBUG,"Searching Location for: "+j),i==google.maps.GeocoderStatus.OK){var k=e?e:"world";$.consoleDebug(DEBUG,"Location found within "+k.toUpperCase()+" Region"),g=h[0].geometry.location,$.consoleDebug(DEBUG,"LatLng are "+g),f.setMarker(a,g,d,c)}else $.consoleDebug(DEBUG,"Google Maps Marker: "+i),e?($.consoleDebug(DEBUG,"Pointing to lat 0 and lng 0"),g=new google.maps.LatLng(0,0),f.setMarker(a,g,d,c)):($.consoleDebug(DEBUG,"Searching address within IT Region"),f.markerMap(a,b,c,d,"it"))})}else h?(g=new google.maps.LatLng(h,i),f.setMarker(a,g,d,c)):(g=new google.maps.LatLng(0,0),f.setMarker(a,g,d,c))})},$.centerMap=function(a,b){var c=new google.maps.LatLngBounds;$.each(a.markers,function(a,b){var d=new google.maps.LatLng(b.position.lat(),b.position.lng());c.extend(d)}),1==a.markers.length?(a.setCenter(c.getCenter()),a.setZoom(b)):(a.initialZoom=!0,a.fitBounds(c),a.setZoom(b))},$.fn.focusMarker=function(a){return this.smoothAnchor(),google.maps.event.trigger(a,"click"),this},$.fn.setMarker=function(map,latlng,count,zoom){return this.each(function(){var $this=$(this),marker_img=$this.data("img"),marker_color=$this.data("icon-color"),marker_icon=$this.data("icon")&&!marker_img?'<i class="fa '+$this.data("icon")+'" style="color:'+marker_color+';"></i>':"",classes=$this.attr("class")+" ",id=classes.substr(classes.indexOf("scm-marker marker marker-")+25,classes.substr(25).indexOf(" ")),$map=$("#map-"+count),marker=new MarkerWithLabel({raiseOnDrag:!1,clickable:!0,draggable:!1,icon:" ",cursor:"pointer",position:latlng,map:map,labelContent:marker_icon,labelAnchor:new google.maps.Point(13,40),labelClass:"labels"});marker_img&&marker.setIcon(marker_img),map.markers.push(marker);var $location=$activator=$('[data-id="'+id+'"]'),$action=!!$location.data("open-marker")&&$location.data("open-marker");if(0==$action&&($activator=$location.children("[data-open-marker]"),$action=$activator.length?$activator.data("open-marker"):[]),$this.html()){with({mark:marker,location:$location})google.maps.event.addListener(mark,"click",function(a){infowindow.close(),infowindow.setContent($this.html()),infowindow.open(map,marker),$map.eventsInit(1,1),$(".onmap").removeClass("infowindow"),location.hasClass("onmap")&&location.addClass("infowindow")});if($action)switch($activator.css("cursor","pointer"),$location.addClass("onmap"),$action){case"over":$activator.mouseenter(function(){$map.focusMarker(marker)});break;default:$activator.click(function(){$map.focusMarker(marker)})}}$.centerMap(map,zoom)})},$.fn.captionMoveIn=function(a,b,c){var d=b;return d.disableIt(),this.each(function(){var a=$(this);a.parent().outerWidth();a.css({left:"100%",opacity:1}),a.animate({left:"0%"},c,function(){d.enableIt()})})},$.fn.captionMoveOut=function(a,b,c){var d=b;return d.disableIt(),this.each(function(){var a=$(this);-a.parent().outerWidth();a.css({left:"0%",opacity:1}),a.animate({left:"-200%"},c,function(){})})},$.fn.initSlider=function(){return this.each(function(){var a=$(this).find(".slide-image");a.length&&(a.css("display","none"),$(a[0]).css("display","inline-block"))})},$.fn.setNivoSlider=function(){return $.functionExists("nivoSlider")?this.each(function(){var a=$("body"),b=$(this),c="theme-"+(b.data("slider-theme")?b.data("slider-theme"):"default");return b.find(".slide-image").length<2?this:(b.parent().addClass("slider-wrapper"),b.parent().addClass(c),b.addClass("nivoSlider"),b.find("img").each(function(){$(this).css("display","inline-block")}),b.nivoSlider({effect:b.data("slider-effect"),slices:b.data("slider-slices"),boxCols:b.data("slider-cols"),boxRows:b.data("slider-rows"),animSpeed:b.data("slider-speed"),pauseTime:b.data("slider-time"),startSlide:b.data("slider-start"),directionNav:b.data("slider-direction"),controlNav:b.data("slider-control"),controlNavThumbs:b.data("slider-thumbs"),pauseOnHover:b.data("slider-hover"),manualAdvance:b.data("slider-manual"),prevText:"",nextText:"",randomStart:b.data("slider-random"),beforeChange:function(a){b.find(".nivo-caption").captionMoveOut("before",b,b.data("slider-speed"))},afterChange:function(a){b.find(".nivo-caption").captionMoveIn("after",b,b.data("slider-speed"))},slideshowEnd:function(a){},lastSlide:function(a){},afterLoad:function(c){var d=b.find("a.nivo-nextNav"),e=b.find("a.nivo-prevNav");d.append('<i class="fa '+b.data("slider-next")+'">'),e.append('<i class="fa '+b.data("slider-prev")+'">');var f=parseInt(d.css("right")),g=d.getBoxShadow(),h=d.outerWidth()+parseFloat(+g.x)+parseFloat(g.blur)+parseFloat(g.exp),i=f-h,j=f-h/4,k=parseInt(e.css("left")),l=e.getBoxShadow(),m=e.outerWidth()+parseFloat(+l.x)+parseFloat(l.blur)+parseFloat(l.exp),n=k-m,o=k-m/4;d.css("right",i),e.css("left",n),b.mouseenter(function(a){d.animate({right:j+"px"},300),e.animate({left:o+"px"},300)}),b.mouseleave(function(a){d.animate({right:i+"px"},300),e.animate({left:n+"px"},300)}),d.mouseenter(function(a){var c=b.find("img");c.attr("data-transition","sliceDown"),$(this).animate({right:f+"px"},200)}),e.mouseenter(function(a){var c=b.find("img");c.attr("data-transition","sliceDownLeft"),$(this).animate({left:k+"px"},200)}),d.mouseleave(function(a){var c=b.find("img");c.attr("data-transition",b.data("slider-effect")),$(this).animate({right:j+"px"},200)}),e.mouseleave(function(a){var c=b.find("img");c.attr("data-transition",b.data("slider-effect")),$(this).animate({left:o+"px"},200)}),a.trigger("nivoLoaded",[b]),b.find(".nivo-caption").addClass("responsive float-center box").captionMoveIn("load",b,b.data("slider-speed"))}}),void(a.hasClass("touch")&&(b.find("a.nivo-nextNav").css("visibility","hidden"),b.find("a.nivo-prevNav").css("visibility","hidden"),b.swipe({swipeLeft:function(a,c,d,e,f){b.find("a.nivo-nextNav").trigger("mouseenter"),b.find("a.nivo-nextNav").trigger("click"),a.stopPropagation()},swipeRight:function(a,c,d,e,f){b.find("a.nivo-prevNav").trigger("mouseenter"),b.find("a.nivo-prevNav").trigger("click"),a.stopPropagation()},threshold:10,excludedElements:""}))))}):this},$.fn.setFancybox=function(){return $.funExists("fancybox")?this.each(function(){var a=$(this),b=a.data("popup")?a.data("popup"):"",c=a.parent().attr("id");if(b&&b.length){var d=b.length,e=a.data("popup-path")?a.data("popup-path"):"",f=a.data("popup-init")?a.data("popup-init"):0,g=a.data("popup-title")?a.data("popup-title"):"",h=a.data("popup-type")?a.data("popup-type"):"image",i=a.data("popup-template")?a.data("popup-template"):"",j=1===d?0:a.data("popup-arrows")?a.data("popup-arrows"):0,k=a.data("popup-miniarrows")?a.data("popup-miniarrows"):0,l=a.data("popup-name")?a.data("popup-name"):0,m=a.data("popup-counter")?a.data("popup-counter"):0,n=a.data("popup-info")?a.data("popup-info"):0,o=a.data("popup-color")?a.data("popup-color"):0,p=1===d?0:a.data("popup-list")?a.data("popup-list"):0,q=a.data("popup-data")?a.data("popup-data"):"float",r=a.data("popup-reverse")?a.data("popup-reverse"):0,s=a.data("popup-titles")?parseInt(a.data("popup-titles")):0,t=a.data("popup-captions")?parseInt(a.data("popup-captions")):0,u=a.data("popup-alternates")?parseInt(a.data("popup-alternates")):0,v=a.data("popup-descriptions")?parseInt(a.data("popup-descriptions")):0,w=a.data("popup-dates")?parseInt(a.data("popup-dates")):0,x=a.data("popup-modifies")?parseInt(a.data("popup-modifies")):0,y=a.data("popup-filenames")?parseInt(a.data("popup-filenames")):0,z=a.data("popup-types")?parseInt(a.data("popup-types")):0,A=[],B=0,D=$.EmToPx(1),E=$.EmToPx(3),F=[E+D,E,E+D,E],G=!1;for(a.disableIt(),B=0;B<d;B++)if("video"==h)A.push('<iframe width="854" height="510" src="'+b[B]+'" frameborder="0" allowfullscreen></iframe>');else if("load"==h)A.push('<div class="dynamic"></div>'),a.enableIt(),G=!0;else if("string"==typeof b[B])A.push(b[B]);else if(void 0!==typeof b[B].url){var H={href:e+b[B].url},I="";(s||t||u||v||w||x||y||z)&&(s&&b[B].title&&(I=I+'<span class="imgdata title">'+b[B].title+"</span>"),t&&b[B].caption&&(I=I+'<span class="imgdata caption">'+b[B].caption+"</span>"),u&&b[B].alt&&(I=I+'<span class="imgdata alt">'+b[B].alt+"</span>"),v&&b[B].description&&(I=I+'<span class="imgdata description">'+b[B].description+"</span>"),w&&b[B].date&&(I=I+'<span class="imgdata date">'+b[B].date+"</span>"),x&&b[B].modified&&(I=I+'<span class="imgdata modified">'+b[B].modified+"</span>"),y&&b[B].filename&&(I=I+'<span class="imgdata filename">'+b[B].filename+"</span>"),z&&b[B].type&&(I=I+'<span class="imgdata type">'+b[B].type+"</span>"),H.title=I),A.push(H)}"load"!=h&&a.enableIt(),"video"!=h&&"load"!=h||(h="html"),a.click(function(a){if(!a[ADVANCED]){var d=$(".fancybox-overlay");return d.length&&d.remove(),$.fancybox.open(A,{modal:!1,type:h,scrolling:"auto",autoSize:!1,padding:0,margin:F,openOpacity:!0,arrows:!1,nextClick:!1,closeBtn:!1,closeOpacity:!0,closeClick:!1,index:f,list:p,openEffect:"fade",closeEffect:"fade",nextEffect:"elastic",prevEffect:"elastic",openEasing:"easeOutSine",closeEasing:"easeInSine",nextEasing:"easeInOutSine",prevEasing:"easeInOutSine",openSpeed:150,closeSpeed:350,nextSpeed:600,prevSpeed:600,keys:{play:!1,toggle:!1},helpers:{overlay:{css:{"background-color":"rgba(0, 0, 0, .85)","background-image":"none"},closeClick:!1,speedOut:50},title:{type:q}},tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>'},beforeLoad:function(){window.ontouchmove=function(a){a=a||window.event,a.preventDefault&&a.preventDefault(),a.returnValue=!1},$("body").addClass("no-scroll")},afterLoad:function(){var a=$(".fancybox-overlay"),b=$(".fancybox-wrap");if(a.addClass(h),a.addClass(q),r&&a.addClass("reverse"),j){var c=$(".fancybox-nav");c.length||($('<a title="Next" class="fancybox-stuff fancybox-nav fancybox-next" href="javascript:;"><span>&rsaquo;</span></a>').click(function(){$.fancybox.next()}).appendTo(a),$('<a title="Previous" class="fancybox-stuff fancybox-nav fancybox-prev" href="javascript:;"><span>&lsaquo;</span></a>').click(function(){$.fancybox.prev()}).appendTo(a),k&&a.addClass("miniarrows"))}if(p){var d=$(".fancybox-links");if(!d.length){d=$('<ul class="fancybox-stuff fancybox-links" data-elements="'+this.group.length+'"></ul>');for(var e=0;e<this.group.length;e++)$('<li data-index="'+e+'"><label></label></li>').click(function(){$(this).hasClass("active")||$.fancybox.jumpto($(this).data("index"))}).appendTo(d);a.prepend(d),a.addClass("list list-points")}d.find("[data-index="+this.index+"]").addClass("active").siblings().removeClass("active")}var f=$(".fancybox-tools");if(f.length||(f=$('<div class="fancybox-tools"></div>'),o&&$('<a title="Color" class="fancybox-stuff fancybox-item fancybox-color" href="javascript:;"><i class="fa fa-circle"></i></a>').click(function(){$(this).toggleClass("on"),a.toggleClass("white")}).appendTo(f),n&&$('<a title="Info" class="fancybox-stuff fancybox-item fancybox-info" href="javascript:;"><i class="fa fa-info-circle"></i></a>').click(function(){$(this).toggleClass("on"),a.toggleClass("info"),a.hasClass("info")?$(this).parent().siblings(".fancybox-nav").css("opacity",0):$(this).parent().siblings(".fancybox-nav").css("opacity","initial"),a.find(".fancybox-counter, .fancybox-name, .fancybox-links, .fancybox-title").toggleClass("hidden")}).appendTo(f),$('<a title="Back" class="fancybox-stuff fancybox-item fancybox-back" href="javascript:;"><i class="fa fa-times-circle"></i></a>').click(function(){$.fancybox.close()}).appendTo(f),a.prepend(f)),l){var i=$(".fancybox-name");i.length||a.prepend($('<h1 class="fancybox-stuff fancybox-name text-center">'+g+"</h1>"))}if(m){var s=$(".fancybox-counter");s.length||a.prepend($('<h2 class="fancybox-stuff fancybox-counter">'+(this.index+1)+"/"+this.group.length+"</h2>"))}b.eventLinks()},beforeShow:function(){if($(".fancybox-counter").html(this.index+1+"/"+this.group.length),G){var a=$(".fancybox-wrap"),d=a.find(".dynamic"),e=parseInt(b[0]),f=parseInt(i);if(CONTENTS[c]||(CONTENTS[c]={replace:{},popup:{}}),CONTENTS[c].popup[e])d.find(".scm-loading").fadeOut("fast",function(){$(this).remove()}),$(CONTENTS[c].popup[e]).appendTo(d).eventsInit(1,1,1).focus().css("opacity",0).animate({opacity:1},500);else{var g={action:"load_content",name:c,single:e,template:f,query_vars:ajaxcall.query_vars};a.ajaxPost(ajaxcall.url,g,function(a){CONTENTS[c].popup[e]=a,$(a).appendTo(d).eventsInit(1,1,1).focus().css("opacity",0).animate({opacity:1},500)},"icon",{classes:"absolute middle triple"})}}else $(".fancybox-wrap").bind("contextmenu",function(a){return!1})},afterShow:function(){},beforeClose:function(){$("body").removeClass("no-scroll"),window.ontouchmove=null}}),!1}})}}):this},$.fn.setTooltip=function(a){return $.functionExists("powerTip")?this.each(function(){var a=$(this),b=a.data("tooltip"),c=a.find(b),d=c.html();c.addClass("invisible");var e="tooltip"+(a.data("tooltip-class")?" "+a.data("tooltip-class"):""),f=a.data("tooltip-direction")?a.data("tooltip-direction"):"n";a.data("powertipjq",$(['<div class="'+e+'">'+d+"</div>"].join("\n"))),a.powerTip({placement:f,smartPlacement:!0,popupId:"tooltip"})}):this},$.fn.setCursor=function(a,b){return $.functionExists("awesomeCursor")?this.each(function(){var c=$(this),d=c.data("cursor-node")?c.find(c.data("cursor-node")):c,e=a?a:c.data("cursor")?c.data("cursor"):d.is(c)?"mouse-pointer":"hand-pointer-o",f=$.extend({color:c.data("cursor-color")?c.data("cursor-color"):"#000000",size:c.data("cursor-size")?c.data("cursor-size"):14,hotspot:c.data("cursor-pivot")?c.data("cursor-pivot"):[0,0],flip:c.data("cursor-flip")?c.data("cursor-flip"):"",rotate:c.data("cursor-rotate")?c.data("cursor-rotate"):0,outline:c.data("cursor-outline")?c.data("cursor-outline"):null},b),g=c.data("cursor-defaults")?c.data("cursor-defaults"):0;g&&($.fn.awesomeCursor.defaults=$.extend($.fn.awesomeCursor.defaults,f)),d.awesomeCursor(e,f)}):this},$.fn.setCss=function(a,b){return b||(b=a),this.each(function(){var c=$(this);val=c.attr("data-"+a),c.css(b,val)})},$.fn.youtubeFix=function(){return this.each(function(){var a=$(this),b=a.attr("src");b+=-1==b.indexOf("?")?"?wmode=transparent":"&amp;wmode=transparent",a.attr("src",b)})}}(jQuery);